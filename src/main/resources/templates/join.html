<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
  <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/carousel/">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<header data-bs-theme="dark" th:replace="~{mainNav.html :: nav}"></header>

<div class="container my-5">
  <div class="row vh-100 justify-content-center align-items-center">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body p-4">
          <h3 class="text-center mb-4">회원가입</h3>
          <form method="post" action="/joinAction" enctype="multipart/form-data">
            <div class="form-group mb-3">
              <label for="nameInput" class="form-label">닉네임</label>
              <input type="text" class="form-control" id="nameInput" name="userName" placeholder="이름을 입력하세요" maxlength="20">
            </div>
            <div class="form-group mb-3">
              <label for="idInput" class="form-label">아이디</label>
              <input type="text" class="form-control" id="idInput" name="userID" placeholder="아이디를 입력하세요" maxlength="20">
            </div>
            <div class="form-group mb-3">
              <label for="passwordInput" class="form-label">비밀번호</label>
              <input type="password" class="form-control" id="passwordInput" name="userPW" placeholder="비밀번호를 입력하세요" maxlength="30">
            </div>
            <div class="form-group mb-3">
              <label for="profileImageInput" class="form-label">프로필 사진</label>
              <input type="file" class="form-control" id="profileImageInput" name="file" accept="image/*" max-size="10000000" onchange="previewFile(this);">
            </div>
            <a id="preview-link" href="#" class="d-block mb-2">여기에 프로필 사진 미리보기가 출력됩니다.</a>
            <img id="preview" class="d-none img-thumbnail" alt="프로필 사진" width="100" height="100">
            <div class="d-grid">
              <button type="submit" class="btn btn-primary mt-3">회원가입</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function previewFile(input) {
  var preview = document.getElementById('preview');
  var previewLink = document.getElementById('preview-link');
  var file = input.files[0];
  var reader = new FileReader();

  reader.onloadend = function() {
    preview.src = reader.result;
    previewLink.classList.add('d-none');
    preview.classList.remove('d-none');
  }

  if (file) {
    reader.readAsDataURL(file);
  } else {
    preview.src = "";
    preview.classList.add('d-none');
    previewLink.classList.remove('d-none');
  }
}
</script>

</body>
</html>